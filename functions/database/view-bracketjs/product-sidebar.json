{
    "type": "View?id=product-sidebar;class=flex column;style.width=15.5rem;style.backgroundColor=#f0f0f0;style.overflow=auto;style.padding=.5rem 0;style.width=0;style.zIndex=2",
    "id": "product-sidebar",
    "creation-date": 1647169849131,
    "children": [
        {
            "children": [
                {
                    "type": "Icon?name=bi-chevron-right;style.fontSize=1.3rem;style.width=2.25rem;click.sticky;style.transition=.2s"
                },
                {
                    "type": "Text?class=dots;text=Product;style.fontSize=1.3rem"
                },
                {
                    "type": "Icon?style.display=none;tooltip.text=create new product;name=bi-plus;style.color=#000;style.fontSize=1.9rem;style.position=absolute;style.right=.5rem;style.height=2rem;style.width=2rem;hover.style.color=blue;style.borderRadius=.25rem",
                    "controls": [
                        {
                            "event": "click?parent().style().display=flex;)(:open-doc.del();)(:open-collection=product",
                            "actions": "insert:[parent().next().id]?insert.component=parent().next().children.0;timer():[parent().next().lastChild().():[2ndChild().style().display=none;3rdChild().style().display=flex;lastChild().data=_string;3rdChild().focus()]]:50;timer():[():file-action-popup.style():[opacity=0;pointerEvents=none;transform=scale(0)]]:100"
                        }
                    ]
                }
            ],
            "type": "View?class=flex pointer align-center;hover.style.backgroundColor=#e9e9e9;style.minHeight=3rem;style.width=100%;style.position=relative",
            "controls": [
                {
                    "event": "mouseenter?lastChild().style().display=flex"
                },
                {
                    "event": "mouseleave?lastChild().style().display=none"
                },
                {
                    "event": "click?next().style().display=if():[next().style().display=none||)(:clickedElement().id=lastChild().id]:flex.else():none;1stChild().style().transform=if():[next().style().display=none]:rotate(0).else():rotate(90deg)"
                }
            ]
        },
        {
            "type": "View?id=product-list;class=flex column;style.display=none;style.marginLeft=1.2rem;style.borderLeft=1px solid #ddd",
            "children": [
                {
                    "type": "[View]?data=)(:data.editor.product.keys();class=flex pointer align-center;style.minHeight=3rem;style.width=100%;style.position=relative",
                    "children": [
                        {
                            "type": "Icon?name=bi-file-earmark;style.fontSize=1.3rem;style.width=2.25rem"
                        },
                        {
                            "type": "Text?class=dots;text=().data;style.fontSize=1.3rem;style.maxWidth=13rem"
                        },
                        {
                            "controls": [
                                {
                                    "event": "keyup?text()=)(:open-doc;style().display=none;prev().style().display=flex;if():[!)(:open-doc||!)(:data.editor.product.[)(:open-doc]]:[parent().rem()]?e().key=Escape"
                                },
                                {
                                    "actions": "note?note.text=File name could not be empty!<<!text();note.text=File name should be unique!<<)(:data.editor.product.keys().includes():text()",
                                    "event": "keyup??e().key=Enter||e().key=Tab;)(:data.editor.product.keys().includes():text()||!text()"
                                },
                                {
                                    "actions": [
                                        "async():erase?erase.collection=)(:open-collection;erase.doc=)(:open-doc?)(:open-doc",
                                        "async():save:note:[update:product-list]?save.collection=product;save.doc=text();save.data=)(:data.editor.product.[text()];note.text=if():[)(:open-doc]:File name has been changed!.else():File has been created!"
                                    ],
                                    "event": "keyup?)(:data.editor.product.[text()]=if():[)(:open-doc]:[)(:data.editor.product.[)(:open-doc].clone()].else():[_map:creation-date:[today().timestamp()]:id:[text()]:type:[format():[View?id=]+text()]];)(:open-collection=product?text();text()!=)(:open-doc;e().key=Enter||e().key=Tab;)(:data.editor.product.keys().doesnotInclude():text()"
                                }
                            ],
                            "type": "Input?class=dots;input.value=().data;style():[fontSize=1.3rem;border=0;height=3rem;padding=0;display=none;flex=1]"
                        },
                        {
                            "controls": [
                                {
                                    "actions": "setPosition:file-action-popup?position.placement=right;position.positioner=().id;():file-action-popup.caller=().id",
                                    "event": "click?if():[():file-action-popup.style().opacity=1;)(:action-popup-caller=().id]:[():file-action-popup.style():[opacity=0;pointerEvents=none;transform=scale(0)]].else():[)(:action-popup-caller=().id;():file-action-popup.style():[opacity=1;pointerEvents=auto;zIndex=10;transform=scale(1)]];parent().open-doc=data();parent().open-collection=product"
                                }
                            ],
                            "type": "Icon?open-doc=data();open-collection=product;name=bi-three-dots-vertical;style.fontSize=1.8rem;style.width=2rem;style.height=3rem;style.position=absolute;style.right=0;style.display=none;style.backgroundColor=#e9e9e9;style.borderRadius=.25rem;hover.style.color=blue"
                        }
                    ],
                    "controls": [
                        {
                            "event": "mouseenter?style().backgroundColor=#e9e9e9;lastChild().style().display=flex"
                        },
                        {
                            "event": "mouseleave?lastChild().style().display=none;style().backgroundColor=inherit"
                        },
                        {
                            "event": "click?)(:open-doc=().data;)(:open-collection=product;)(:open-map=)(:data.editor.product.[().data];():data-viewer-bar.children().map():[style().backgroundColor=inherit;hover.disable=false];():data-viewer-bar.children().find():[open-doc=)(:open-doc].():[style().backgroundColor=#fff;hover.disable=true];():open-view.getChildrenByClassName():data-viewer.map():[style().display=none];():open-view.getChildrenByClassName():data-viewer.find():[open-doc=)(:open-doc].style().display=flex?)(:clickedElement().id!=lastChild().id;)(:open-docs.find():[=product/+().data]"
                        },
                        {
                            "event": "click?():data-viewer-bar.style().display=flex;)(:open-docs.push():[product/+().data];)(:open-doc=().data;)(:open-collection=product;)(:open-map=)(:data.editor.product.[().data];():open-view.getChildrenByClassName():data-viewer.map():[style().display=none];():data-viewer-bar.children().map():[style().backgroundColor=inherit;hover.disable=false]?)(:clickedElement().id!=2ndLastChild().id;)(:clickedElement().id!=lastChild().id;!)(:open-docs.find():[=product/+().data]",
                            "actions": [
                                "async():[insert:data-viewer-bar]?insert.component=():data-viewer-bar.children.0;insert.data=)(:open-doc;await().().insert.child.():[style().backgroundColor=#fff;hover.disable=true;open-doc=)(:open-doc;open-collection=)(:open-collection]",
                                "async():[insert:open-view]?insert.component=():open-view.children.1;insert.data=)(:open-map;insert.index=():open-view.children().len().subs():1;await().().insert.child.():[open-doc=)(:open-doc;open-collection=)(:open-collection]"
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}