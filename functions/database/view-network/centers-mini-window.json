{
    "type": "View?id=centers-mini-window;class=flexbox pointer;style.opacity=0;style.pointerEvents=none;style.position=absolute;style.top=0;style.left=0;style.right=0;style.bottom=0;style.backgroundColor=#00000060;style.zIndex=1;style.transition=.2s;style.padding=10vh 0",
    "controls": [
      {
        "event": "click?style():[pointerEvents=none;opacity=0];)(:centers-edit-readonly=true;)(:new-centers.del();)(:centers-copied.del()?!1stChild().mouseenter;!():droplist.mouseenter"
      }
    ],
    "children": [
      {
        "type": "View?class=flex column;style.width=70vw;style.height=100%;style.padding=4rem;style.borderRadius=1rem;style.backgroundColor=#fff;style.cursor=default;style.gap=2rem;style.overflowY=auto",
        "children": [
          {
            "type": "View?class=flex align-center;style.width=100%",
            "children": [
              {
                "type": "Text?text=إضافة مركز جديد;text=().text+ (منسوخ)<<)(:centers-copied;text=().text+ (عرض)<<)(:centers-edit-readonly;style.fontSize=1.8rem;style.fontWeight=bolder"
              },
              {
                "type": "View?class=flexbox;style.gap=.5rem;style.marginRight=auto",
                "children": [
                  {
                    "type": "View?class=flexbox pointer;tooltip.text=حذف;style.height=3.5rem;style.width=3.5rem;style.borderRadius=1.5rem;hover.style.backgroundColor=#eee;style.transition=.2s?!)(:new-centers;!)(:centers-edit-readonly",
                    "children": [
                      {
                        "type": "Icon?name=bi-trash;style.color=red;style.fontSize=1.8rem"
                      }
                    ],
                    "controls": [
                      {
                        "event": "click?)(:centers-list.[)(:centers-data.id].del()",
                        "actions": "async():erase:[update:centers-manager-list]?erase.collection=resources-centers-network;erase.doc=)(:centers-data.id;async()::[():centers-mini-window.style():[opacity=0;pointerEvents=none];)(:new-centers.del()]"
                      }
                    ]
                  },
                  {
                    "type": "View?class=flexbox pointer;tooltip.text=حفظ;style.height=3.5rem;style.width=3.5rem;style.borderRadius=1.5rem;hover.style.backgroundColor=#eee;style.transition=.2s?!)(:centers-edit-readonly",
                    "children": [
                      {
                        "type": "Icon?name=bi-check2;style.color=blue;style.fontSize=2.6rem"
                      }
                    ],
                    "controls": [
                      {
                        "event": "click?)(:centers-list.[)(:centers-data.id]=)(:centers-data;)(:new-centers.del()?",
                        "actions": "async():save:[update:centers-manager-list]?save.collection=resources-centers-network;save.doc=)(:centers-data.id;save.data=)(:centers-data;async()::[():centers-mini-window.style():[opacity=0;pointerEvents=none]]"
                      }
                    ]
                  },
                  {
                    "type": "View?class=flexbox pointer;tooltip.text=خروج;style.height=3.5rem;style.width=3.5rem;style.borderRadius=1.5rem;hover.style.backgroundColor=#eee;style.transition=.2s",
                    "children": [
                      {
                        "type": "Icon?name=bi-x-lg;style.color=#000;style.fontSize=1.8rem"
                      }
                    ],
                    "controls": [
                      {
                        "event": "click?():centers-mini-window.style():[opacity=0;pointerEvents=none];)(:centers-data.del();)(:new-centers.del()"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "View?style.width=100%;style.height=1px;style.backgroundColor=#ddd"
          },
          {
            "type": "View?class=flex column;style.width=100%;data=)(:centers-data;style.gap=2rem",
            "children": [
              {
                "type": "View?class=flex column;style.gap=1rem;style.width=100%",
                "children": [
                  {
                    "type": "Text?style.width=100%;style.borderBottom=1px solid #ddd;style.fontSize=1.5rem;text=تفاصيل التسجيل;style.padding=1rem 0;style.fontWeight=bold"
                  },
                  {
                    "type": "View?style.gap=2rem;style.width=100%;style.display=grid;style.gridTemplateColumns=1fr 1fr 1fr;style.padding=1rem",
                    "children": [
                      {
                        "type": "Input?style.width=100%;style.height=4rem;label.text=رقم الهوية;label.location=outside;readonly;path=id;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem"
                      },
                      {
                        "type": "Input?style.width=100%;style.height=4rem;label.text=تاريخ التسجيل;label.location=outside;readonly;input.value=data().creation-date.toSimplifiedDateTimeAr();clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem"
                      },
                      {
                        "type": "Input?style.width=100%;style.height=4rem;label.text=فعّال;label.location=outside;readonly;path=active;input.value=if():[data().active]:فعّال.else():غير فعّال;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;droplist.items=_array:فعّال:غير فعّال;droplist.align=right;droplist.readonly=true<<)(:centers-edit-readonly",
                        "controls": [
                          {
                            "watch": "data()?data()=if():[val()=فعّال]:true.else():false"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "View?class=flex column;style.gap=1rem;style.width=100%",
                "children": [
                  {
                    "type": "Text?style.width=100%;style.borderBottom=1px solid #ddd;style.fontSize=1.5rem;text=معلومات عامة;style.padding=1rem 0;style.fontWeight=bold"
                  },
                  {
                    "type": "View?style.gap=2rem;style.width=100%;style.display=grid;style.gridTemplateColumns=1fr 1fr 1fr;style.rowGap=3rem;style.padding=1rem",
                    "children": [
                      {
                        "type": "Input?style.width=100%;style.height=4rem;label.text=إسم المركز;label.location=outside;path=name;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;readonly<<)(:centers-edit-readonly"
                      },
                      {
                        "type": "Input?style.width=100%;style.height=4rem;label.text=نوع المركز;label.location=outside;readonly;path=type;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;droplist.items=_array:مكان عمل:منزل:مركز ربط;droplist.align=right;droplist.readonly=true<<)(:centers-edit-readonly"
                      },
                      {
                        "type": "Input?style.width=100%;style.height=4rem;label.text=إسم القسم;label.location=outside;path=section;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;readonly<<)(:centers-edit-readonly"
                      },
                      {
                        "type": "Input?style.width=100%;style.height=4rem;label.text=إسم الفرع;label.location=outside;path=branch;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;readonly<<)(:centers-edit-readonly"
                      },
                      {
                        "type": "Input?style.width=100%;style.height=4rem;label.text=رمز الفرع;label.location=outside;path=branch-code;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;readonly<<)(:centers-edit-readonly"
                      },
                      {
                        "type": "Input?style.width=100%;style.height=4rem;label.text=الحالة;label.location=outside;readonly;path=status;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;droplist.items=)(:data.collection.centers-status.status;droplist.align=right;droplist.readonly=true<<)(:centers-edit-readonly"
                      },
                      {
                        "type": "Input?textarea;style.width=100%;style.height=8rem;label.text=عنوان المركز;label.location=outside;path=address;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;readonly<<)(:centers-edit-readonly"
                      },
                      {
                        "type": "Input?textarea;style.width=100%;style.height=8rem;label.text=وصف عمل المركز;label.location=outside;path=description;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;readonly=true<<)(:centers-edit-readonly"
                      },
                      {
                        "type": "View"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "View?class=flex column;style.gap=1rem;style.width=100%;style.marginBottom=1rem",
                "children": [
                  {
                    "type": "Text?style.width=100%;style.borderBottom=1px solid #ddd;style.fontSize=1.5rem;text=معلومات حسّاسة;style.padding=1rem 0;style.fontWeight=bold"
                  },
                  {
                    "type": "View?class=flex;style.width=100%;style.gap=2rem",
                    "children": [
                      {
                        "controls": [
                          {
                            "event": "click?().checked=().checked.opp();1stChild().style().opacity=if():[().checked]:1.else():0;data().case-sensitive=().checked?!)(:centers-edit-readonly"
                          }
                        ],
                        "children": [
                          {
                            "type": "Icon?class=flexbox;name=bi-check2;style.color=red;style.fontSize=2.75rem;style.marginRight=-.5rem;style.marginBottom=.25rem;style.opacity=if():[parent().checked]:1.else():0;style.transition=.3s"
                          }
                        ],
                        "type": "View?class=flexbox pointer;style.border=2px solid #ddd;style.borderRadius=.5rem;style.backgroundColor=#f6f6f6;style.height=2rem;style.width=2rem;checked=data().case-sensitive"
                      },
                      {
                        "type": "Text?text=مركز حسّاس جدا;style.fontSize=1.5rem"
                      }
                    ]
                  },
                  {
                    "type": "View?class=flex;style.width=100%;style.gap=2rem",
                    "children": [
                      {
                        "controls": [
                          {
                            "event": "click?().checked=().checked.opp();1stChild().style().opacity=if():[().checked]:1.else():0;data().visit-permission-needed=().checked?!)(:centers-edit-readonly"
                          }
                        ],
                        "children": [
                          {
                            "type": "Icon?class=flexbox;name=bi-check2;style.color=green;style.fontSize=2.75rem;style.marginRight=-.5rem;style.marginBottom=.25rem;style.opacity=if():[parent().checked]:1.else():0;style.transition=.3s"
                          }
                        ],
                        "type": "View?class=flexbox pointer;style.border=2px solid #ddd;style.borderRadius=.5rem;style.backgroundColor=#f6f6f6;style.height=2rem;style.width=2rem;checked=data().visit-permission-needed"
                      },
                      {
                        "type": "Text?text=الإذن ضروري قبل الزيارة;style.fontSize=1.5rem"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "View?class=flex column;style.gap=1rem;style.width=100%",
                "children": [
                  {
                    "type": "Text?style.width=100%;style.borderBottom=1px solid #ddd;tooltip.text=هويات الأفراد;style.fontSize=1.5rem;text=الأفراد;style.padding=1rem 0;style.fontWeight=bold"
                  },
                  {
                    "type": "View?class=flex column;path=members",
                    "children": [
                      {
                        "type": "View?style.gap=2rem;style.width=100%;style.display=grid;style.gridTemplateColumns=1fr 1fr 1fr;style.padding=1rem",
                        "children": [
                          {
                            "type": "[View]?style.width=100%;class=flexbox;style.position=relative",
                            "children": [
                              {
                                "type": "Input?style.width=100%;style.height=4rem;input.value=_string<<!data();clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;style.border=1px solid #ccc;readonly<<)(:centers-edit-readonly",
                                "controls": [
                                  {
                                    "event": "input?data().del()?!data()"
                                  }
                                ]
                              },
                              {
                                "type": "Icon?class=flexbox pointer;name=bi-dash;style.position=absolute;style.left=0.5rem;style.fontSize=2.5rem;style.borderRadius=2rem;style.height=3rem;style.width=3rem;style.color=#888;hover.style.color=#666;hover.style.backgroundColor=#eee;style.transition=.2s",
                                "controls": [
                                  {
                                    "event": "click??Data().members.len().greater():1;!)(:centers-edit-readonly",
                                    "actions": "remove:[parent().id]"
                                  }
                                ]
                              }
                            ],
                            "controls": [
                              {
                                "event": "mouseenter??data().len()=20",
                                "actions": "update:submini-center-window;setPosition:submini-center-window?position.positioner=().id;():submini-center-window.style():[opacity=1;pointerEvents=auto;transform=scale(1)];)(:submini-center-window-data=)(:members.find():[id=data()].entries()"
                              },
                              {
                                "event": "mouseleave?():submini-center-window.style():[opacity=0;pointerEvents=none;transform=scale(0.5)]"
                              }
                            ]
                          },
                          {
                            "type": "View?class=flex;style.gap=1rem",
                            "children": [
                              {
                                "type": "Icon?class=flexbox pointer;style.marginTop=auto;name=bi-plus;style.fontSize=2.5rem;style.border=1px solid #ccc;style.borderRadius=2rem;style.height=3rem;style.width=3rem;style.marginBottom=.5rem;style.color=#888;hover.style.color=#666;hover.style.border=1px solid #aaa;style.transition=.2s",
                                "controls": [
                                  {
                                    "event": "click?Data().members.push():_map?!)(:centers-edit-readonly",
                                    "actions": "insert:[parent().parent().id]?insert.component=parent().parent().children.0;insert.path=Data().members.len()-1;insert.index=parent().parent().children().len()-1"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "View?class=flex column;style.gap=1rem;style.width=100%",
                "children": [
                  {
                    "type": "Text?style.width=100%;style.borderBottom=1px solid #ddd;tooltip.text=هويات الشبكات;style.fontSize=1.5rem;text=الشبكات;style.padding=1rem 0;style.fontWeight=bold"
                  },
                  {
                    "type": "View?class=flex column;path=networks",
                    "children": [
                      {
                        "type": "View?style.gap=2rem;style.width=100%;style.display=grid;style.gridTemplateColumns=1fr 1fr 1fr;style.padding=1rem",
                        "children": [
                          {
                            "type": "[View]?style.width=100%;class=flexbox;style.position=relative",
                            "children": [
                              {
                                "type": "Input?style.width=100%;style.height=4rem;input.value=_string<<!data();clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;style.border=1px solid #ccc;readonly<<)(:centers-edit-readonly",
                                "controls": [
                                  {
                                    "event": "input?data().del()?!data()"
                                  }
                                ]
                              },
                              {
                                "type": "Icon?class=flexbox pointer;name=bi-dash;style.position=absolute;style.left=0.5rem;style.fontSize=2.5rem;style.borderRadius=2rem;style.height=3rem;style.width=3rem;style.color=#888;hover.style.color=#666;hover.style.backgroundColor=#eee;style.transition=.2s",
                                "controls": [
                                  {
                                    "event": "click??Data().networks.len().greater():1;!)(:centers-edit-readonly",
                                    "actions": "remove:[parent().id]"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "View?class=flex;style.gap=1rem",
                            "children": [
                              {
                                "type": "Icon?class=flexbox pointer;style.marginTop=auto;name=bi-plus;style.fontSize=2.5rem;style.border=1px solid #ccc;style.borderRadius=2rem;style.height=3rem;style.width=3rem;style.marginBottom=.5rem;style.color=#888;hover.style.color=#666;hover.style.border=1px solid #aaa;style.transition=.2s",
                                "controls": [
                                  {
                                    "event": "click?Data().networks.push():_map?!)(:centers-edit-readonly",
                                    "actions": "insert:[parent().parent().id]?insert.component=parent().parent().children.0;insert.path=Data().networks.len()-1];insert.index=parent().parent().children().len()-1"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "View?class=flex column;style.gap=1rem;style.width=100%",
                "children": [
                  {
                    "type": "Text?style.width=100%;style.borderBottom=1px solid #ddd;tooltip.text=هويات الأجهزة المنصوبة;style.fontSize=1.5rem;text=الأجهزة;style.padding=1rem 0;style.fontWeight=bold"
                  },
                  {
                    "type": "View?class=flex column;path=devices",
                    "children": [
                      {
                        "type": "View?style.gap=2rem;style.width=100%;style.display=grid;style.gridTemplateColumns=1fr 1fr 1fr;style.padding=1rem",
                        "children": [
                          {
                            "type": "[View]?style.width=100%;class=flexbox;style.position=relative",
                            "children": [
                              {
                                "type": "Input?style.width=100%;style.height=4rem;input.value=_string<<!data();clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;style.border=1px solid #ccc;readonly<<)(:centers-edit-readonly",
                                "controls": [
                                  {
                                    "event": "input?data().del()?!data()"
                                  }
                                ]
                              },
                              {
                                "type": "Icon?class=flexbox pointer;name=bi-dash;style.position=absolute;style.left=0.5rem;style.fontSize=2.5rem;style.borderRadius=2rem;style.height=3rem;style.width=3rem;style.color=#888;hover.style.color=#666;hover.style.backgroundColor=#eee;style.transition=.2s",
                                "controls": [
                                  {
                                    "event": "click??Data().devices.len().greater():1;!)(:centers-edit-readonly",
                                    "actions": "remove:[parent().id]"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "View?class=flex;style.gap=1rem",
                            "children": [
                              {
                                "type": "Icon?class=flexbox pointer;style.marginTop=auto;name=bi-plus;style.fontSize=2.5rem;style.border=1px solid #ccc;style.borderRadius=2rem;style.height=3rem;style.width=3rem;style.marginBottom=.5rem;style.color=#888;hover.style.color=#666;hover.style.border=1px solid #aaa;style.transition=.2s",
                                "controls": [
                                  {
                                    "event": "click?Data().devices.push():_map?!)(:centers-edit-readonly",
                                    "actions": "insert:[parent().parent().id]?insert.component=parent().parent().children.0;insert.path=Data().devices.len()-1;insert.index=parent().parent().children().len()-1"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "View?data().contacts=_array:_map<<!data().contacts;class=flex column;style.gap=1rem;style.width=100%",
                "children": [
                  {
                    "type": "Text?style.width=100%;style.borderBottom=1px solid #ddd;style.fontSize=1.5rem;text=جهات الإتصال;style.padding=1rem 0;style.fontWeight=bold"
                  },
                  {
                    "type": "View?class=flex column;path=contacts",
                    "children": [
                      {
                        "type": "View?style.gap=2rem;style.width=100%;style.display=grid;style.gridTemplateColumns=1fr 1fr 1fr;style.padding=1rem;style.paddingBottom=0",
                        "children": [
                          {
                            "type": "Text?text=إسم الجهة;style.fontSize=1.5rem"
                          },
                          {
                            "type": "Text?text=رقم الهاتف;style.fontSize=1.5rem"
                          }
                        ]
                      },
                      {
                        "type": "[View]?style.gapRow=2rem;style.gapColumn=1rem;style.width=100%;style.display=grid",
                        "children": [
                          {
                            "type": "View?style.gap=2rem;style.width=100%;style.display=grid;style.gridTemplateColumns=1fr 1fr 1fr;style.padding=1rem",
                            "children": [
                              {
                                "type": "Input?style.width=100%;style.height=4rem;path=name;input.value=_string<<!data().name;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;style.border=1px solid #ccc;readonly<<)(:centers-edit-readonly"
                              },
                              {
                                "type": "Input?style.width=100%;style.height=4rem;path=phone-number;input.value=_string<<!data().phone-number;clicked.style.border=2px solid #0080ff;style.border=1px solid #ccc;style.borderRadius=.5rem;readonly<<)(:centers-edit-readonly"
                              },
                              {
                                "type": "View?class=flex;style.gap=1rem",
                                "children": [
                                  {
                                    "type": "Icon?class=flexbox pointer;style.marginTop=auto;name=bi-plus;style.fontSize=2.5rem;style.border=1px solid #ccc;style.borderRadius=2rem;style.height=3rem;style.width=3rem;style.marginBottom=.5rem;style.color=#888;hover.style.color=#666;hover.style.border=1px solid #aaa;style.transition=.2s",
                                    "controls": [
                                      {
                                        "event": "click?Data().contacts.push():_map?!)(:centers-edit-readonly",
                                        "actions": "insert:[parent().parent().parent().id]?insert.component=parent().parent().parent().children.0;insert.path=_array:contacts:[Data().contacts.len().subs():1]"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "Icon?class=flexbox pointer;style.marginTop=auto;name=bi-dash;style.fontSize=2.5rem;style.border=1px solid #ccc;style.borderRadius=2rem;style.height=3rem;style.width=3rem;style.marginBottom=.5rem;style.color=#888;hover.style.color=#666;hover.style.border=1px solid #aaa;style.transition=.2s",
                                    "controls": [
                                      {
                                        "event": "click??Data().contacts.len().greater():1;!)(:centers-edit-readonly",
                                        "actions": "remove:[parent().parent().id]"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "View?class=flex column;style.gap=1rem;style.width=100%",
                "children": [
                  {
                    "type": "Text?style.width=100%;style.borderBottom=1px solid #ddd;style.fontSize=1.5rem;text=ملاحظات;style.padding=1rem 0;style.fontWeight=bold"
                  },
                  {
                    "type": "View?style.gap=2rem;style.width=100%;style.display=grid;style.gridTemplateColumns=1fr 1fr 1fr;style.padding=1rem",
                    "children": [
                      {
                        "type": "Input?textarea;style.width=100%;style.height=8rem;path=note;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;readonly=true<<)(:centers-edit-readonly;style.border=1px solid #ccc"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "View?class=flexbox;style.width=100%;style.borderTop=1px solid #ddd;style.padding=2rem;style.justifyContent=flex-end;style.gap=1rem;style.marginTop=2rem;style.marginBottom=-1rem",
            "children": [
              {
                "type": "Text?class=flexbox pointer;style.height=3.25rem;style.borderRadius=1.5rem;style.width=10rem;style.color=#fff;style.backgroundColor=blue;text=حفظ;style.fontSize=1.3rem;style.opacity=0.8;hover.style.opacity=1;style.transition=.3s?!)(:centers-edit-readonly",
                "controls": [
                  {
                    "event": "click?)(:centers-list.[)(:centers-data.id]=)(:centers-data;)(:new-centers.del()",
                    "actions": "async():save:[update:centers-manager-list]?save.collection=resources-centers-network;save.doc=)(:centers-data.id;save.data=)(:centers-data;async()::[():centers-mini-window.style():[opacity=0;pointerEvents=none]]"
                  }
                ]
              },
              {
                "type": "Text?class=flexbox pointer;style.height=3.25rem;style.borderRadius=1.5rem;style.width=10rem;style.color=#fff;style.backgroundColor=#888;text=خروج;style.fontSize=1.3rem;style.opacity=0.8;hover.style.opacity=1;style.transition=.3s",
                "controls": [
                  {
                    "event": "click?():centers-mini-window.style():[opacity=0;pointerEvents=none];)(:centers-data.del();)(:new-centers.del()"
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  }