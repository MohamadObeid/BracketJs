{
    "type": "View?id=stations-mini-window;class=flexbox pointer;style.opacity=0;style.pointerEvents=none;style.position=absolute;style.top=0;style.left=0;style.right=0;style.bottom=0;style.backgroundColor=#00000060;style.zIndex=1;style.transition=.2s;style.padding=10vh 0",
    "controls": [
        {
            "event": "click?().style().pointerEvents=none;().style().opacity=0;)(:station-edit-readonly=true;)(:new-station.del();)(:station-copied.del()?!().1stChild().mouseenter;!():droplist.mouseenter"
        }
    ],
    "children": [
        {
            "type": "View?class=flex column;style.width=70vw;style.height=100%;style.padding=4rem;style.borderRadius=1rem;style.backgroundColor=#fff;style.cursor=default;style.gap=2rem;style.overflowY=auto",
            "children": [
                {
                    "type": "View?class=flex align-center;style.width=100%",
                    "children": [
                        {
                            "type": "Text?text=إضافة محطة جديدة;text=().text.add(): (منسوخ)<<)(:station-copied;text=().text.add(): (عرض فقط)<<)(:station-edit-readonly;style.fontSize=1.8rem;style.fontWeight=bolder"
                        },
                        {
                            "type": "View?class=flexbox;style.gap=.5rem;style.marginRight=auto",
                            "children": [
                                {
                                    "type": "View?class=flexbox pointer;tooltip.text=حذف;style.height=3.5rem;style.width=3.5rem;style.borderRadius=1.5rem;hover.style.backgroundColor=#eee;style.transition=.2s?!)(:new-station;!)(:station-edit-readonly",
                                    "children": [
                                        {
                                            "type": "Icon?name=bi-trash;style.color=red;style.fontSize=1.8rem"
                                        }
                                    ],
                                    "controls": [
                                        {
                                            "event": "click?)(:stations-list.[)(:station-data.id].del()",
                                            "actions": "async():erase:[update:stations-manager-list]?erase.collection=resources-stations-network;erase.doc=)(:station-data.id;async()::[():stations-mini-window.style().opacity=0;():stations-mini-window.style().pointerEvents=none;)(:new-station.delete()]"
                                        }
                                    ]
                                },
                                {
                                    "type": "View?class=flexbox pointer;tooltip.text=حفظ;style.height=3.5rem;style.width=3.5rem;style.borderRadius=1.5rem;hover.style.backgroundColor=#eee;style.transition=.2s?!)(:station-edit-readonly",
                                    "children": [
                                        {
                                            "type": "Icon?name=bi-check2;style.color=blue;style.fontSize=2.6rem"
                                        }
                                    ],
                                    "controls": [
                                        {
                                            "event": "click?)(:stations-list.[)(:station-data.id]=)(:station-data;)(:new-station.delete()",
                                            "actions": "async():save:[update:stations-manager-list]?save.collection=resources-stations-network;save.doc=)(:station-data.id;save.data=)(:station-data;async()::[():stations-mini-window.style():[opacity=0;pointerEvents=none]]"
                                        }
                                    ]
                                },
                                {
                                    "type": "View?class=flexbox pointer;tooltip.text=خروج;style.height=3.5rem;style.width=3.5rem;style.borderRadius=1.5rem;hover.style.backgroundColor=#eee;style.transition=.2s",
                                    "children": [
                                        {
                                            "type": "Icon?name=bi-x-lg;style.color=#000;style.fontSize=1.8rem"
                                        }
                                    ],
                                    "controls": [
                                        {
                                            "event": "click?():stations-mini-window.style().opacity=0;():stations-mini-window.style().pointerEvents=none;)(:station-data.delete();)(:new-station.delete()"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "View?style.width=100%;style.height=1px;style.backgroundColor=#ddd"
                },
                {
                    "type": "View?class=flex column;style.width=100%;data=)(:station-data;style.gap=2rem",
                    "children": [
                        {
                            "type": "View?class=flex column;style.gap=1rem;style.width=100%",
                            "children": [
                                {
                                    "type": "Text?style.width=100%;style.borderBottom=1px solid #ddd;style.fontSize=1.5rem;text=تفاصيل التسجيل;style.padding=1rem 0;style.fontWeight=bold"
                                },
                                {
                                    "type": "View?style.gap=2rem;style.width=100%;style.display=grid;style.gridTemplateColumns=1fr 1fr 1fr;style.padding=1rem",
                                    "children": [
                                        {
                                            "type": "Input?style.width=100%;style.height=4rem;label.text=رقم الهوية;label.location=outside;readonly;path=id;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem"
                                        },
                                        {
                                            "type": "Input?style.width=100%;style.height=4rem;label.text=تاريخ التسجيل;label.location=outside;readonly;input.value=().data().creation-date.toSimplifiedDateTimeAr();clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem"
                                        },
                                        {
                                            "type": "Input?style.width=100%;style.height=4rem;label.text=فعّال;label.location=outside;readonly;path=active;input.value=if():[().data().active]:فعّال.else():غير فعّال;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;droplist.items=_array:فعّال:غير فعّال;droplist.align=right;droplist.readonly=true<<)(:station-edit-readonly",
                                            "controls": [
                                                {
                                                    "watch": "().data()?().data()=if():[().val().is():فعّال]:true.else():false"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "View?class=flex column;style.gap=1rem;style.width=100%",
                            "children": [
                                {
                                    "type": "Text?style.width=100%;style.borderBottom=1px solid #ddd;style.fontSize=1.5rem;text=معلومات عامة;style.padding=1rem 0;style.fontWeight=bold"
                                },
                                {
                                    "type": "View?style.gap=2rem;style.width=100%;style.display=grid;style.gridTemplateColumns=1fr 1fr 1fr;style.padding=1rem",
                                    "children": [
                                        {
                                            "type": "Input?style.width=100%;style.height=4rem;label.text=إسم المحطة;label.location=outside;path=name;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;readonly<<)(:station-edit-readonly"
                                        },
                                        {
                                            "type": "Input?textarea;style.width=100%;style.height=8rem;label.text=وصف المحطة;label.location=outside;path=description;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;readonly<<)(:station-edit-readonly"
                                        },
                                        {
                                            "type": "Input?style.width=100%;style.height=4rem;label.text=حالة المحطة;label.location=outside;readonly;path=status;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;droplist.items=)(:data.collection.station-status.status;droplist.align=right;droplist.readonly=true<<)(:station-edit-readonly"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "View?class=flex column;style.gap=1rem;style.width=100%",
                            "children": [
                                {
                                    "type": "Text?style.width=100%;style.borderBottom=1px solid #ddd;style.fontSize=1.5rem;text=تفاصيل العنوان;style.padding=1rem 0;style.fontWeight=bold"
                                },
                                {
                                    "type": "View?style.gap=2rem;style.width=100%;style.display=grid;style.gridTemplateColumns=1fr 1fr 1fr;style.padding=1rem",
                                    "children": [
                                        {
                                            "type": "Input?style.width=100%;tooltip.text=البلد الذي تتواجد فيه المحطة;style.height=4rem;label.text=البلد;readonly;label.location=outside;path=country;input.value=لبنان;().data().country=لبنان;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;droplist.items=)(:resources.countries.countries;droplist.align=right;droplist.readonly=true<<)(:station-edit-readonly"
                                        },
                                        {
                                            "type": "Input?style.width=100%;tooltip.text=المدينة التي تتواجد فيه المحطة;style.height=4rem;label.text=المدينة;label.location=outside;readonly;path=city;input.value=بعبدا;().data().city=بعبدا;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;droplist.items=)(:resources.cities-of-lebanon.cities;droplist.align=right;droplist.readonly=true<<)(:station-edit-readonly"
                                        },
                                        {
                                            "type": "Input?style.width=100%;tooltip.text=المنطقة التي تتواجد فيه المحطة;style.height=4rem;label.text=المنطقة;label.location=outside;readonly;path=district;input.value=برج الراجنة;().data().city=برج البراجنة;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;droplist.items=)(:resources.lebanon-baabda-districts.districts;droplist.align=right;droplist.readonly=true<<)(:station-edit-readonly"
                                        },
                                        {
                                            "type": "Input?textarea;style.width=100%;style.height=8rem;label.text=شرح العنوان;label.location=outside;path=address;input.placeholder=أدخل شرح العنوان بالتفصيل;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;readonly<<)(:station-edit-readonly"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "View?data().contacts=_array:_map<<!data().contacts;class=flex column;style.gap=1rem;style.width=100%",
                            "children": [
                                {
                                    "type": "Text?style.width=100%;style.borderBottom=1px solid #ddd;style.fontSize=1.5rem;text=جهات الإتصال;style.padding=1rem 0;style.fontWeight=bold"
                                },
                                {
                                    "type": "View?class=flex column;path=contacts",
                                    "children": [
                                        {
                                            "type": "View?style.gap=2rem;style.width=100%;style.display=grid;style.gridTemplateColumns=1fr 1fr 1fr;style.padding=1rem;style.paddingBottom=0",
                                            "children": [
                                                {
                                                    "type": "Text?text=إسم الجهة;style.fontSize=1.5rem"
                                                },
                                                {
                                                    "type": "Text?text=رقم الهاتف;style.fontSize=1.5rem"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "[View]?style.gapRow=2rem;style.gapColumn=1rem;style.width=100%;style.display=grid",
                                            "children": [
                                                {
                                                    "type": "View?style.gap=2rem;style.width=100%;style.display=grid;style.gridTemplateColumns=1fr 1fr 1fr;style.padding=1rem",
                                                    "children": [
                                                        {
                                                            "type": "Input?style.width=100%;style.height=4rem;path=name;input.value=_string<<!data().name;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;style.border=1px solid #ccc;readonly<<)(:members-edit-readonly"
                                                        },
                                                        {
                                                            "type": "Input?style.width=100%;style.height=4rem;path=phone-number;input.value=_string<<!data().phone-number;clicked.style.border=2px solid #0080ff;style.border=1px solid #ccc;style.borderRadius=.5rem;readonly<<)(:members-edit-readonly"
                                                        },
                                                        {
                                                            "type": "View?class=flex;style.gap=1rem",
                                                            "children": [
                                                                {
                                                                    "type": "Icon?class=flexbox pointer;style.marginTop=auto;name=bi-plus;style.fontSize=2.5rem;style.border=1px solid #ccc;style.borderRadius=2rem;style.height=3rem;style.width=3rem;style.marginBottom=.5rem;style.color=#888;hover.style.color=#666;hover.style.border=1px solid #aaa;style.transition=.2s",
                                                                    "controls": [
                                                                        {
                                                                            "event": "click?().Data().contacts.push():_map?!)(:members-edit-readonly",
                                                                            "actions": "insert:[().parent().parent().parent().id]?insert.component=().parent().parent().parent().children.0.removeMapping();insert.path=_array:contacts:[().Data().contacts.len().subs():1]"
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "Icon?class=flexbox pointer;style.marginTop=auto;name=bi-dash;style.fontSize=2.5rem;style.border=1px solid #ccc;style.borderRadius=2rem;style.height=3rem;style.width=3rem;style.marginBottom=.5rem;style.color=#888;hover.style.color=#666;hover.style.border=1px solid #aaa;style.transition=.2s",
                                                                    "controls": [
                                                                        {
                                                                            "event": "click??().Data().contacts.len().greater():1;!)(:members-edit-readonly",
                                                                            "actions": "remove:[().parent().parent().id]"
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "View?class=flex column;style.gap=1rem;style.width=100%",
                            "children": [
                                {
                                    "type": "Text?style.width=100%;style.borderBottom=1px solid #ddd;style.fontSize=1.5rem;text=ملاحظات;style.padding=1rem 0;style.fontWeight=bold"
                                },
                                {
                                    "type": "View?style.gap=2rem;style.width=100%;style.display=grid;style.gridTemplateColumns=1fr 1fr 1fr;style.padding=1rem",
                                    "children": [
                                        {
                                            "type": "Input?textarea;style.width=100%;style.height=8rem;path=note;clicked.style.border=2px solid #0080ff;style.borderRadius=.5rem;readonly=true<<)(:members-edit-readonly;style.border=1px solid #ccc"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "View?class=flexbox;style.width=100%;style.borderTop=1px solid #ddd;style.padding=2rem;style.justifyContent=flex-end;style.gap=1rem;style.marginTop=2rem;style.marginBottom=-1rem",
                    "children": [
                        {
                            "type": "Text?class=flexbox pointer;style.height=3.25rem;style.borderRadius=1.5rem;style.width=10rem;style.color=#fff;style.backgroundColor=blue;text=حفظ;style.fontSize=1.3rem;style.opacity=0.8;hover.style.opacity=1;style.transition=.3s?!)(:station-edit-readonly",
                            "controls": [
                                {
                                    "event": "click?)(:stations-list.[)(:station-data.id]=)(:station-data;)(:new-station.delete()",
                                    "actions": "async():save:[update:stations-manager-list]?save.collection=resources-stations-network;save.doc=)(:station-data.id;save.data=)(:station-data;async()::[():stations-mini-window.style().opacity=0;():stations-mini-window.style().pointerEvents=none]"
                                }
                            ]
                        },
                        {
                            "type": "Text?class=flexbox pointer;style.height=3.25rem;style.borderRadius=1.5rem;style.width=10rem;style.color=#fff;style.backgroundColor=#888;text=خروج;style.fontSize=1.3rem;style.opacity=0.8;hover.style.opacity=1;style.transition=.3s",
                            "controls": [
                                {
                                    "event": "click?():stations-mini-window.style().opacity=0;():stations-mini-window.style().pointerEvents=none;)(:station-data.delete();)(:new-station.delete()"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}